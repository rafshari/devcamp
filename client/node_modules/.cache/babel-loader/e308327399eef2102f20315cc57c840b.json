{"ast":null,"code":"import { LOGIN_FAIL, LOGIN_SUCCESS, REGISTER_FAIL, REGISTER_SUCCESS, LOAD_USER, AUTH_ERROR, LOGOUT } from \"../actions/types\";\nconst initialState = {\n  user: null,\n  loading: true,\n  error: null,\n  isAuthenticated: false\n};\nconst auth = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", payload);\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: true\n      };\n    case LOAD_USER:\n      return {\n        ...state,\n        user: payload.data,\n        loading: false,\n        isAuthenticated: true\n      };\n    case REGISTER_FAIL:\n    case LOGIN_FAIL:\n    case AUTH_ERROR:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        error: payload,\n        loading: false,\n        isAuthenticated: false\n      };\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        loading: true,\n        user: null,\n        isAuthenticated: false\n      };\n    default:\n      return state;\n  }\n};\nexport default auth;","map":{"version":3,"names":["LOGIN_FAIL","LOGIN_SUCCESS","REGISTER_FAIL","REGISTER_SUCCESS","LOAD_USER","AUTH_ERROR","LOGOUT","initialState","user","loading","error","isAuthenticated","auth","state","action","type","payload","localStorage","setItem","data","removeItem"],"sources":["E:/2-myprojects/devcamp/client/src/redux/reducers/auth.js"],"sourcesContent":["import {\n  LOGIN_FAIL,\n  LOGIN_SUCCESS,\n  REGISTER_FAIL,\n  REGISTER_SUCCESS,\n  LOAD_USER,\n  AUTH_ERROR,\n  LOGOUT,\n} from \"../actions/types\";\n\nconst initialState = {\n  user: null,\n  loading: true,\n  error: null,\n  isAuthenticated: false,\n};\n\nconst auth = (state = initialState, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", payload);\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: true,\n      };\n    case LOAD_USER:\n      return {\n        ...state,\n        user: payload.data,\n        loading: false,\n        isAuthenticated: true,\n      };\n    case REGISTER_FAIL:\n    case LOGIN_FAIL:\n    case AUTH_ERROR:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        error: payload,\n        loading: false,\n        isAuthenticated: false,\n      };\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        loading: true,\n        user: null,\n        isAuthenticated: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default auth;\n"],"mappings":"AAAA,SACEA,UAAU,EACVC,aAAa,EACbC,aAAa,EACbC,gBAAgB,EAChBC,SAAS,EACTC,UAAU,EACVC,MAAM,QACD,kBAAkB;AAEzB,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE,IAAI;EACbC,KAAK,EAAE,IAAI;EACXC,eAAe,EAAE;AACnB,CAAC;AAED,MAAMC,IAAI,GAAG,YAAkC;EAAA,IAAjCC,KAAK,uEAAGN,YAAY;EAAA,IAAEO,MAAM;EACxC,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGF,MAAM;EAChC,QAAQC,IAAI;IACV,KAAKZ,gBAAgB;IACrB,KAAKF,aAAa;MAChBgB,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,OAAO,CAAC;MACtC,OAAO;QACL,GAAGH,KAAK;QACRJ,OAAO,EAAE,KAAK;QACdE,eAAe,EAAE;MACnB,CAAC;IACH,KAAKP,SAAS;MACZ,OAAO;QACL,GAAGS,KAAK;QACRL,IAAI,EAAEQ,OAAO,CAACG,IAAI;QAClBV,OAAO,EAAE,KAAK;QACdE,eAAe,EAAE;MACnB,CAAC;IACH,KAAKT,aAAa;IAClB,KAAKF,UAAU;IACf,KAAKK,UAAU;MACbY,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC;MAChC,OAAO;QACL,GAAGP,KAAK;QACRH,KAAK,EAAEM,OAAO;QACdP,OAAO,EAAE,KAAK;QACdE,eAAe,EAAE;MACnB,CAAC;IACH,KAAKL,MAAM;MACTW,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC;MAChC,OAAO;QACL,GAAGP,KAAK;QACRJ,OAAO,EAAE,IAAI;QACbD,IAAI,EAAE,IAAI;QACVG,eAAe,EAAE;MACnB,CAAC;IACH;MACE,OAAOE,KAAK;EAAC;AAEnB,CAAC;AAED,eAAeD,IAAI"},"metadata":{},"sourceType":"module"}