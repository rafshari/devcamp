{"ast":null,"code":"var _jsxFileName = \"E:\\\\2-myprojects\\\\devcamp\\\\client\\\\src\\\\components\\\\BootcampReviews\\\\BootcampReviews.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Spinner from \"../Spinner/Spinner\";\nimport ReviewItem from \"./ReviewItem\";\nimport { getBootcamp, isLoading } from \"../../redux/actions/bootcamps\";\nimport { loadBootcampReview, unLoadReview, getReviews } from \"../../redux/actions/reviews\";\nclass BootcampReviews extends React.Component {\n  componentDidMount() {\n    const bootcampId = this.props.match.params.bootcampId;\n    this.props.isLoading();\n    this.props.getBootcamp(bootcampId);\n    this.props.getReviews(bootcampId);\n  }\n  render() {\n    const {\n      bootcamp,\n      bootcampLoading,\n      reviewsLoading,\n      reviews,\n      user\n    } = this.props;\n    let currentUserHasReview;\n    if (bootcamp && bootcamp.reviews.length && user) {\n      currentUserHasReview = bootcamp.reviews.find(review => review.user.toString() === user._id);\n    }\n    const {\n      _id,\n      name,\n      averageRating\n    } = bootcamp;\n    return bootcampLoading || !bootcamp ? /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }) : /*#__PURE__*/React.createElement(\"section\", {\n      className: \"bootcamp mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/bootcamp/${_id}`,\n      className: \"btn btn-secondary my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-chevron-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }), \" Bootcamp Info\"), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, name, \" Reviews\"), reviewsLoading ? /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }) : reviews.length === 0 ? /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, \"This bootcamp has no reviews yet.\") : reviews.map(review => /*#__PURE__*/React.createElement(ReviewItem, {\n      key: review._id,\n      review: review,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, \"Rating\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"badge badge-secondary badge-success rounded-circle p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, averageRating ? averageRating : \"New\")), !user || user.role !== \"user\" ? null : currentUserHasReview ? /*#__PURE__*/React.createElement(Link, {\n      to: \"/add-review\",\n      className: \"btn btn-primary btn-block my-3\",\n      onClick: () => this.props.loadBootcampReview(currentUserHasReview),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-pencil-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    }), \" Modify Review\") : /*#__PURE__*/React.createElement(Link, {\n      to: \"/add-review\",\n      className: \"btn btn-primary btn-block my-3\",\n      onClick: () => this.props.unLoadReview(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-pencil-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }), \" Write a Review\")))));\n  }\n}\nBootcampReviews.propTypes = {\n  loadBootcampReview: PropTypes.func.isRequired,\n  unLoadReview: PropTypes.func.isRequired,\n  getBootcamp: PropTypes.func.isRequired,\n  isLoading: PropTypes.func.isRequired,\n  getReviews: PropTypes.func.isRequired\n};\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  bootcamp: state.bootcamps.bootcamp,\n  bootcampLoading: state.bootcamps.loading,\n  reviewsLoading: state.reviews.loading,\n  reviews: state.reviews.reviews\n});\nexport default connect(mapStateToProps, {\n  loadBootcampReview,\n  unLoadReview,\n  getBootcamp,\n  isLoading,\n  getReviews\n})(BootcampReviews);","map":{"version":3,"names":["React","PropTypes","Link","connect","Spinner","ReviewItem","getBootcamp","isLoading","loadBootcampReview","unLoadReview","getReviews","BootcampReviews","Component","componentDidMount","bootcampId","props","match","params","render","bootcamp","bootcampLoading","reviewsLoading","reviews","user","currentUserHasReview","length","find","review","toString","_id","name","averageRating","map","role","propTypes","func","isRequired","mapStateToProps","state","auth","bootcamps","loading"],"sources":["E:/2-myprojects/devcamp/client/src/components/BootcampReviews/BootcampReviews.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport Spinner from \"../Spinner/Spinner\";\nimport ReviewItem from \"./ReviewItem\";\n\nimport { getBootcamp, isLoading } from \"../../redux/actions/bootcamps\";\nimport {\n  loadBootcampReview,\n  unLoadReview,\n  getReviews,\n} from \"../../redux/actions/reviews\";\n\nclass BootcampReviews extends React.Component {\n  componentDidMount() {\n    const bootcampId = this.props.match.params.bootcampId;\n    this.props.isLoading();\n    this.props.getBootcamp(bootcampId);\n    this.props.getReviews(bootcampId);\n  }\n\n  render() {\n    const {\n      bootcamp,\n      bootcampLoading,\n      reviewsLoading,\n      reviews,\n      user,\n    } = this.props;\n    let currentUserHasReview;\n\n    if (bootcamp && bootcamp.reviews.length && user) {\n      currentUserHasReview = bootcamp.reviews.find(\n        (review) => review.user.toString() === user._id\n      );\n    }\n\n    const { _id, name, averageRating } = bootcamp;\n\n    return bootcampLoading || !bootcamp ? (\n      <Spinner />\n    ) : (\n      <section className=\"bootcamp mt-5\">\n        <div className=\"container\">\n          <div className=\"row\">\n            {/* Main col  */}\n            <div className=\"col-md-8\">\n              <Link to={`/bootcamp/${_id}`} className=\"btn btn-secondary my-3\">\n                <i className=\"fas fa-chevron-left\"></i> Bootcamp Info\n              </Link>\n              <h1 className=\"mb-4\">{name} Reviews</h1>\n              {/* Reviews  */}\n              {reviewsLoading ? (\n                <Spinner />\n              ) : reviews.length === 0 ? (\n                <h4>This bootcamp has no reviews yet.</h4>\n              ) : (\n                reviews.map((review) => (\n                  <ReviewItem key={review._id} review={review} />\n                ))\n              )}\n            </div>\n            {/* Sidebar */}\n            <div className=\"col-md-4\">\n              {/* Rating  */}\n              <h1 className=\"text-center my-4\">\n                Rating{\" \"}\n                <span className=\"badge badge-secondary badge-success rounded-circle p-3\">\n                  {averageRating ? averageRating : \"New\"}\n                </span>\n              </h1>\n              {/*  Buttons */}\n              {!user || user.role !== \"user\" ? null : currentUserHasReview ? (\n                <Link\n                  to=\"/add-review\"\n                  className=\"btn btn-primary btn-block my-3\"\n                  onClick={() =>\n                    this.props.loadBootcampReview(currentUserHasReview)\n                  }\n                >\n                  <i className=\"fas fa-pencil-alt\"></i> Modify Review\n                </Link>\n              ) : (\n                <Link\n                  to=\"/add-review\"\n                  className=\"btn btn-primary btn-block my-3\"\n                  onClick={() => this.props.unLoadReview()}\n                >\n                  <i className=\"fas fa-pencil-alt\"></i> Write a Review\n                </Link>\n              )}\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nBootcampReviews.propTypes = {\n  loadBootcampReview: PropTypes.func.isRequired,\n  unLoadReview: PropTypes.func.isRequired,\n  getBootcamp: PropTypes.func.isRequired,\n  isLoading: PropTypes.func.isRequired,\n  getReviews: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.auth.user,\n  bootcamp: state.bootcamps.bootcamp,\n  bootcampLoading: state.bootcamps.loading,\n  reviewsLoading: state.reviews.loading,\n  reviews: state.reviews.reviews,\n});\n\nexport default connect(mapStateToProps, {\n  loadBootcampReview,\n  unLoadReview,\n  getBootcamp,\n  isLoading,\n  getReviews,\n})(BootcampReviews);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}