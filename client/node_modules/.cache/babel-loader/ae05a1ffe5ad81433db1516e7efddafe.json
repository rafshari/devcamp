{"ast":null,"code":"var _jsxFileName = \"E:\\\\2-myprojects\\\\devcamp\\\\client\\\\src\\\\components\\\\ManageReviews\\\\ReviewForm.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { addReview, updateReview } from \"../../redux/actions/reviews\";\nclass ReviewForm extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      rating: 8,\n      title: \"\",\n      text: \"\"\n    };\n  }\n  componentDidMount() {\n    if (this.props.user.role === \"publisher\") {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/bootcamps\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 14\n        }\n      });\n    }\n    const review = this.props.review;\n    if (review) {\n      const reviewDetails = {};\n      for (const key in review) {\n        if (key in this.state) {\n          reviewDetails[key] = review[key];\n        }\n      }\n      this.setState(reviewDetails);\n    }\n  }\n  render() {\n    const {\n      rating,\n      title,\n      text\n    } = this.state;\n    const {\n      addReview,\n      updateReview,\n      review,\n      history,\n      bootcamp\n    } = this.props;\n    const handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n    const handleSubmit = e => {\n      e.preventDefault();\n      if (review) {\n        updateReview(review._id, this.state, history);\n      } else {\n        addReview(bootcamp._id, this.state, history);\n      }\n    };\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"container mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card bg-white py-2 px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/bootcamp/${review ? review.bootcamp._id : bootcamp._id}`,\n      className: \"btn btn-link text-secondary my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-chevron-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    }), \" Bootcamp Info\"), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, review ? review.bootcamp.name : bootcamp.name), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"text-primary mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, review ? \"Update\" : \"Write a\", \" Review\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"You must have attended and graduated this bootcamp to review\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"rating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, \"Rating: \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 31\n      }\n    }, rating)), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"range\",\n      className: \"custom-range\",\n      min: \"1\",\n      max: \"10\",\n      step: \"1\",\n      id: \"rating\",\n      name: \"rating\",\n      value: rating,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      className: \"form-control\",\n      placeholder: \"Review title\",\n      value: title,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"text\",\n      rows: \"10\",\n      className: \"form-control\",\n      placeholder: \"Your review\",\n      value: text,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: review ? \"Update Review\" : \"Submit Review\",\n      className: \"btn btn-dark btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }))))))));\n  }\n}\nReviewForm.propTypes = {\n  addReview: PropTypes.func.isRequired,\n  updateReview: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  bootcamp: state.bootcamps.bootcamp,\n  review: state.reviews.review\n});\nexport default connect(mapStateToProps, {\n  addReview,\n  updateReview\n})(ReviewForm);","map":{"version":3,"names":["React","PropTypes","Link","Redirect","connect","addReview","updateReview","ReviewForm","Component","state","rating","title","text","componentDidMount","props","user","role","review","reviewDetails","key","setState","render","history","bootcamp","handleChange","e","target","name","value","handleSubmit","preventDefault","_id","propTypes","func","isRequired","object","mapStateToProps","auth","bootcamps","reviews"],"sources":["E:/2-myprojects/devcamp/client/src/components/ManageReviews/ReviewForm.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { addReview, updateReview } from \"../../redux/actions/reviews\";\n\nclass ReviewForm extends React.Component {\n  state = {\n    rating: 8,\n    title: \"\",\n    text: \"\",\n  };\n\n  componentDidMount() {\n    if (this.props.user.role === \"publisher\") {\n      return <Redirect to=\"/bootcamps\" />;\n    }\n\n    const review = this.props.review;\n    if (review) {\n      const reviewDetails = {};\n      for (const key in review) {\n        if (key in this.state) {\n          reviewDetails[key] = review[key];\n        }\n      }\n      this.setState(reviewDetails);\n    }\n  }\n\n  render() {\n    const { rating, title, text } = this.state;\n    const { addReview, updateReview, review, history, bootcamp } = this.props;\n\n    const handleChange = (e) => {\n      this.setState({ [e.target.name]: e.target.value });\n    };\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n\n      if (review) {\n        updateReview(review._id, this.state, history);\n      } else {\n        addReview(bootcamp._id, this.state, history);\n      }\n    };\n\n    return (\n      <section className=\"container mt-5\">\n        <div className=\"row\">\n          <div className=\"col-md-8 m-auto\">\n            <div className=\"card bg-white py-2 px-4\">\n              <div className=\"card-body\">\n                <Link\n                  to={`/bootcamp/${\n                    review ? review.bootcamp._id : bootcamp._id\n                  }`}\n                  className=\"btn btn-link text-secondary my-3\"\n                >\n                  <i className=\"fas fa-chevron-left\"></i> Bootcamp Info\n                </Link>\n                <h1 className=\"mb-2\">\n                  {review ? review.bootcamp.name : bootcamp.name}\n                </h1>\n                <h3 className=\"text-primary mb-4\">\n                  {review ? \"Update\" : \"Write a\"} Review\n                </h3>\n                <p>\n                  You must have attended and graduated this bootcamp to review\n                </p>\n                <form onSubmit={handleSubmit}>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"rating\">\n                      Rating: <span className=\"text-primary\">{rating}</span>\n                    </label>\n                    <input\n                      type=\"range\"\n                      className=\"custom-range\"\n                      min=\"1\"\n                      max=\"10\"\n                      step=\"1\"\n                      id=\"rating\"\n                      name=\"rating\"\n                      value={rating}\n                      onChange={handleChange}\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <input\n                      type=\"text\"\n                      name=\"title\"\n                      className=\"form-control\"\n                      placeholder=\"Review title\"\n                      value={title}\n                      onChange={handleChange}\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <textarea\n                      name=\"text\"\n                      rows=\"10\"\n                      className=\"form-control\"\n                      placeholder=\"Your review\"\n                      value={text}\n                      onChange={handleChange}\n                    ></textarea>\n                  </div>\n                  <div className=\"form-group\">\n                    <input\n                      type=\"submit\"\n                      value={review ? \"Update Review\" : \"Submit Review\"}\n                      className=\"btn btn-dark btn-block\"\n                    />\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nReviewForm.propTypes = {\n  addReview: PropTypes.func.isRequired,\n  updateReview: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.auth.user,\n  bootcamp: state.bootcamps.bootcamp,\n  review: state.reviews.review,\n});\n\nexport default connect(mapStateToProps, { addReview, updateReview })(\n  ReviewForm\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}